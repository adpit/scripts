#!/usr/bin/env perl

# created: 2013-11-11

use 5.010;
use charnames ':full';
use strict;
use warnings;

#require utf8;

binmode(STDOUT, ":utf8");
say "# generated by $0 on ${\(scalar localtime)}, perl $^V, charnames $charnames::VERSION";
say "# codepoint\tutf8 bytes\tchar\tname";
for my $codept (0..0xffff) {
    my $chr = chr($codept);
    #my $chr_utf8 = utf8::encode($chr);
    #my @utf8_bytes = defined($chr_utf8) ? unpack("C*", $chr_utf8) : ();

    say sprintf(
        "U+%04x\t%s\t%s\t%s",
        $codept,
        "", #join(" ", map {sprintf "%02x",$_} @utf8_bytes),
        $codept < 32 ? "" : $chr,
        charnames::viacode($codept) // "",
    );
}
